Colibactin is a chemically unstable small-molecule genotoxin that is produced by several different bacteria, including members of the human gut microbiome1,2. Although the biological activity of colibactin has been extensively investigated in mammalian systems3, little is known about its effects on other microorganisms. Here we show that colibactin targets bacteria that contain prophages, and induces lytic development through the bacterial SOS response. DNA, added exogenously, protects bacteria from colibactin, as does expressing a colibactin resistance protein (ClbS) in non-colibactin-producing cells. The prophage-inducing effects that we observe apply broadly across different phage–bacteria systems and in complex communities. Finally, we identify bacteria that have colibactin resistance genes but lack colibactin biosynthetic genes. Many of these bacteria are infected with predicted prophages, and we show that the expression of their ClbS homologues provides immunity from colibactin-triggered induction. Our study reveals a mechanism by which colibactin production could affect microbiomes and highlights a role for microbial natural products in influencing population-level events such as phage outbreaks. The bacterial genotoxin colibactin triggers prophage-mediated lysis of neighbouring bacteria, a finding that provides insight into the dynamics of microbial communities and relationships between bacterial metabolite production and phage behaviour.