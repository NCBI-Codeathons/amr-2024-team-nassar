Methods Curation and selection of BGCs and transporter annotations We parsed the MIBiG 2.0 database of biosynthetic gene clusters metadata and extracted information including host genus, compound count, chemical structures of the metabolite product, known metabolite activities, and the number of open reading frames for each BGC. Using Entrez and NCBI, we assigned the expected Gram status for each BGC based on phylum, coded 0 = Gram-negative, 1 = Gram-positive, 2 = Fungal, 3 = other. For the purpose of this manuscript, we only analyzed BGCs from Gram-positive and Gram-negative bacteria. We noticed that the activity labels in MIBiG 2.0 were often incomplete, and manually added a set of antibacterial, siderophore, and antifungal labels derived from the literature (Supplemental Table S1). We found that 28 BGCs (1.8%) in MIBiG were unusually large in length, and comparisons to published papers on these BGCs showed that their MIBiG counterparts were overextended in comparison to the validated BGC. For this reason, we eliminated the 28 BGCs over 60 ORFs in length. Using Python and RDKit, we calculated molecular weights and partition coefficients (log P) using the algorithm described in Wildman and Crippen (1999) for all 1042 MIBiG BGCs with a single associated compound structure. Two hundred thirty-eight BGCs have more than one associated metabolite structure, and these multistructure BGCs were not used in our structural association analyses. We annotated biosynthetic genes in MIBiG with HMMER hmmsearch (Eddy 1998) and cath-resolve-hits (Lewis et al. 2019) on a set of the 99 most commonly represented biosynthetic Pfams in antiSMASH BGCs obtained from Cimermancic et al. (2014) to generate a counts table of biosynthetic protein families for each BGC (Supplemental Table S4). To obtain a comprehensive overview of the distribution of transport-associated protein domains in biosynthetic gene clusters, we generated two separate feature tables: (1) using CATH (Sillitoe et al. 2019) HMMs, and (2) using Pfam (El-Gebali et al. 2019) HMMs. For the first, we downloaded all proteins in the Transporter Classification Database (TCDB) (Saier et al. 2016) and annotated them with hmmsearch and cath-resolve-hits, using all CATH Functional Family HMMs. We then selected all CATH HMMs that were represented at least five times. We then manually curated this list down to 180 final CATH HMMs that were transport specific. We then calculated the specificities of each CATH HMM for TCDB families; 80 were specific for exactly one TCDB family. For the second set of features, we took all protein sequences with an annotation including “Transport” in the antiSMASH database v2 (Blin et al. 2019a) and annotated these proteins with the Pfam-A set of HMMs using hmmsearch and the option‐‐cut_ga. We then selected highly represented HMMs and manually curated this list to be transporter specific and representative of the major transporter classes in TCDB. We then also selected the Pfam Substrate Binding Protein and Periplasmic Binding Protein HMMs that were represented more than five times in MIBiG. When comparing both the Pfam and CATH set of HMMs, we found substantial overlap, but the CATH set is composed of 166 domain features, whereas the Pfam set only contains 18 (Supplemental Tables S2, S3). Machine learning to predict metabolite structural and functional characteristics To identify associations between metabolite functional classes and structural properties with BGC gene content, we used traditional statistical tests and different machine learning models. Our classification tasks were (1) siderophore (n = 16 Gram-positive; n = 24 Gram-negative) versus other activity (n = 142 Gram-positive; n = 42 Gram-negative), (2) antibiotic and antifungal (n = 131 Gram-positive; n = 27 Gram-negative) versus other activity (n = 57 Gram-positive; n = 37 Gram-negative), (3) metabolite molecular weight > 1000 Daltons (n = 149) versus metabolite molecular weight < 1000 Daltons (n = 421), and (4) predicted partition coefficient log P < 0 (n = 220) versus log P ≥ 0 (n = 350). For the functional classification tasks, we noticed a strong class imbalance with Gram status, so we performed functional classification separately for BGCs from Gram-positive and Gram-negative bacteria. We first tested for univariate differences in proportional representation of each transporter BGC between classes for classification tests using Fisher's exact test in Python (Q < 0.05, Benjamini–Hochberg correction) (Hochberg and Benjamini 1990). We then assessed the predictive power of the three sets of features for each BGC: transporter Pfam HMMs, transporter CATH HMMs, and biosynthetic Pfam HMMs. Features were counts of protein families, which were standardized using the StandardScaler function in the scikit-learn package. Given the nature of our study, we used simple models to ensure reliability and interpretability of our results. We fit two classes of machine learning models: (1) LASSO-penalized logistic regression, which fits a linear model with a sparsity penalty on weights; and (2) shallow decision trees (of depth one or two), which can classify based on splitting at most two features (Franklin 2005). All models were trained using the Python package scikit-learn. Because of data size and class imbalance, we fit models using repeated, stratified k-fold cross-validation (“RepeatedStratifiedKFold” in scikit-learn) with five repeats and five folds. On each cross-validation split of our data, we computed the area under the precision-recall curve (AUPRC) to evaluate performance for our class-imbalanced tasks. Thus for the final output of this procedure, we reported the mean of accuracy, precision, recall, and AUPRC each generated from five repeats of different random fivefold partitions of the data. We further use these repeated cross-validation splits to see which features are consistently used for classification across repeats. Annotating metagenomic siderophore-like BGCs from the human microbiome To assess the distribution of siderophore-like BGCs in the human microbiome, we downloaded two sets of genomes assembled from metagenomes obtained from the human gut microbiome: 2425 genomes from a neonatal intensive care unit (NICU) premature infant microbiome (Olm et al. 2019) and 24,345 genomes from a diverse set of mostly adult human cohorts (Nayfach et al. 2019). We ran antiSMASH 5.0 on these genomes and then scanned predicted BGCs for at least two of the Pfams that were found to be specific for siderophore BGCs (FecCD, Peripla_BP_2, and Ton_dep_Rec). We dereplicated these BGCs and compared them to known MIBiG siderophore BGCs using the software BiG-SCAPE (Navarro-Muñoz et al. 2020) run with default settings. We then considered BGCs with either set of hits and reported their genomic taxonomic distribution based on the closest BLAST hit representatives of genomic ribosomal proteins to taxonomic genera defined by GTDB (minimum percent identity of hits >80%) (Parks et al. 2018).